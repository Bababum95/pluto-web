# AGENTS.md

Guidelines for autonomous and human-assisted coding agents working in this repository.

## 1) Repository overview

- Project type: frontend SPA
- Stack: React 19 + TypeScript (strict) + Vite 7
- Routing: TanStack Router (file-based routes)
- State: Redux Toolkit + TanStack React Query
- Styling/UI: Tailwind CSS 4 + Radix/Base UI + shadcn-style components
- Testing: Vitest + Testing Library
- Package manager: pnpm (`packageManager` is pinned in `package.json`)

## 2) Setup and local commands

Use `pnpm` for all dependency and script operations.

```bash
pnpm install
pnpm lint
pnpm test
pnpm build
```

Useful project scripts:

- `pnpm dev` — run Vite dev server
- `pnpm test:coverage` — run tests with coverage
- `pnpm storybook` / `pnpm build-storybook` — Storybook workflows
- `pnpm generate:api` — regenerate OpenAPI types
- `pnpm icons:generate` — regenerate icon components

## 3) Source layout

- `src/routes/` — route modules (TanStack Router conventions)
- `src/features/` — domain features
- `src/components/` — shared UI components
- `src/store/` — Redux slices/thunks
- `src/lib/` — shared utilities, API, i18n, icons
- `scripts/` — project automation scripts

Use the alias `@/*` for imports from `src/*` when practical.

## 4) Coding standards

- TypeScript strict mode is enabled; keep types explicit and safe.
- Avoid `any`; prefer precise types, `unknown`, generics, and unions.
- Prefer `type` aliases for new types (use `interface` only when extension semantics are clearly needed).
- React components should be functional components.
- Do not use `React.FC`; type props directly.
- Keep hooks rules and lint rules satisfied (`eslint.config.js` is the source of truth).
- Follow existing patterns in nearby files before introducing new abstractions.

## 5) i18n and UI text

The repository enforces `i18next/no-literal-string` (warn) for JSX text and selected attributes.

- Avoid introducing hardcoded user-facing strings in JSX.
- Use existing i18n patterns (`react-i18next`) for new UI copy.
- Storybook stories and tests are exempt by ESLint config.

## 6) Generated files and codegen

Do not manually edit generated artifacts:

- `src/routeTree.gen.ts` (generated by TanStack Router)
- `src/lib/api/types.ts` (generated by `openapi-typescript`)

If API schema changes, run:

```bash
pnpm generate:api
```

If icon source/input changes, run:

```bash
pnpm icons:generate
```

## 7) Testing and validation expectations

For non-trivial changes, run the following before finalizing:

```bash
pnpm lint
pnpm test
pnpm build
```

Add or update tests when behavior changes, especially for:

- business logic in `src/features/**`
- utility functions in `src/lib/**`
- reusable components with non-trivial behavior

## 8) Change hygiene

- Keep diffs focused and minimal.
- Do not reformat unrelated files.
- Preserve existing naming and folder conventions.
- Update documentation when introducing new workflows or architectural decisions.
